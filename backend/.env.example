# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection URL (required)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require
# Example: postgresql://postgres:password@localhost:5432/adrewards
DATABASE_URL=postgresql://user:password@host:5432/dbname

# Direct URL for migrations (if using connection pooling)
# DIRECT_URL=postgresql://user:password@host:5432/dbname

# =============================================================================
# SUPABASE CONFIGURATION (required)
# =============================================================================

# Supabase project URL
# Get from: https://app.supabase.com/project/_/settings/api
SUPABASE_URL=https://your-project.supabase.co

# Supabase service role key (secret - never commit!)
# Get from: https://app.supabase.com/project/_/settings/api
# WARNING: This key bypasses Row Level Security - keep secret!
SUPABASE_SERVICE_KEY=your_supabase_service_key

# Supabase anonymous key (for frontend - public key)
SUPABASE_ANON_KEY=your_supabase_anon_key

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server port (default: 4000)
PORT=4000

# Frontend URL for CORS (required)
FRONTEND_URL=http://localhost:5173

# Node environment (development|production|test)
NODE_ENV=development

# Tenant ID for multi-tenancy (if applicable)
TENANT_ID=ad-rewards-app

# API key for authentication (if applicable)
API_KEY=your_api_key

# =============================================================================
# ADMOB CONFIGURATION (required for ads)
# =============================================================================

# AdMob App ID
# Get from: https://apps.admob.com/
# Format: ca-app-pub-XXXXXXXXXXXXXXXX~XXXXXXXXXX
ADMOB_APP_ID=ca-app-pub-3940256099942544~3347511713

# AdMob Rewarded Ad Unit ID (opt-in rewarded ads)
# Get from: https://apps.admob.com/
ADMOB_REWARDED_AD_UNIT_ID=ca-app-pub-3940256099942544/5224354917

# AdMob Interstitial Ad Unit ID (forced interstitials)
# Get from: https://apps.admob.com/
ADMOB_INTERSTITIAL_AD_UNIT_ID=ca-app-pub-3940256099942544/1033173712

# AdMob Banner Ad Unit ID (banner ads)
# Get from: https://apps.admob.com/
ADMOB_BANNER_AD_UNIT_ID=ca-app-pub-3940256099942544/6300978111

# =============================================================================
# PAYPAL CONFIGURATION (required for payouts & subscriptions)
# =============================================================================

# PayPal Client ID
# Get from: https://developer.paypal.com/dashboard/applications
PAYPAL_CLIENT_ID=your_paypal_client_id

# PayPal Secret Key (secret - never commit!)
# Get from: https://developer.paypal.com/dashboard/applications
PAYPAL_SECRET=your_paypal_secret

# PayPal Mode (sandbox|live)
# Use 'sandbox' for testing, 'live' for production
PAYPAL_MODE=sandbox

# PayPal Webhook ID (for payment notifications)
# Get from: https://developer.paypal.com/dashboard/webhooks
PAYPAL_WEBHOOK_ID=your_webhook_id

# PayPal Product ID (for subscriptions)
# Create in PayPal dashboard under Products
PAYPAL_PRODUCT_ID=your_product_id

# PayPal Elite Plan ID (monthly subscription)
# Create in PayPal dashboard under Plans
PAYPAL_ELITE_PLAN_ID=your_elite_plan_id

# Legacy plan IDs (if still in use)
PAYPAL_SILVER_PLAN_ID=your_silver_plan_id
PAYPAL_GOLD_PLAN_ID=your_gold_plan_id

# =============================================================================
# BUSINESS RULES (adjust carefully!)
# =============================================================================

# User revenue share (0.85 = 85% to users, 15% to platform)
# Valid range: 0.0 to 1.0
USER_REVENUE_SHARE=0.85

# Coins awarded per ad view
# Default: 100 coins per ad
COINS_PER_AD=100

# Minimum withdrawal amount in USD
# Users must have at least this much to withdraw
MINIMUM_WITHDRAWAL_USD=10.00

# Maximum ads per day per user
# Prevents abuse and ad fatigue
MAX_ADS_PER_DAY=200

# Maximum ads per 5-minute window
# Rate limiting for ad views
MAX_ADS_PER_5_MINUTES=10

# VPN suspicion threshold
# Flag users after this many VPN-suspicious activities
VPN_SUSPICION_THRESHOLD=10

# Actions before forced interstitial
# Show forced interstitial after N user actions (default: 5)
ACTIONS_PER_INTERSTITIAL=5

# =============================================================================
# EXCHANGE RATES API
# =============================================================================

# Exchange rate API URL for currency conversion
# Free tier: https://api.exchangerate-api.com/v4/latest/USD
# Alternative: https://api.exchangeratesapi.io/latest?base=USD
EXCHANGE_RATE_API_URL=https://api.exchangerate-api.com/v4/latest/USD

# Exchange rate API key (if using paid tier)
# EXCHANGE_RATE_API_KEY=your_api_key

# =============================================================================
# ADMIN CONFIGURATION
# =============================================================================

# Admin email for notifications and initial admin account
ADMIN_EMAIL=admin@adrevtech.co.za

# Admin emails (comma-separated list for multiple admins)
# ADMIN_EMAILS=admin1@example.com,admin2@example.com

# =============================================================================
# SECURITY & MONITORING (optional but recommended)
# =============================================================================

# JWT secret for authentication (if implementing custom auth)
# JWT_SECRET=your_random_secret_key_here

# Session secret (for express-session)
# SESSION_SECRET=your_session_secret

# Rate limiting
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_MAX_REQUESTS=100

# Logging level (error|warn|info|debug)
# LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=your_sentry_dsn

# =============================================================================
# FEATURE FLAGS (optional)
# =============================================================================

# Enable/disable specific features
# ENABLE_REFERRALS=true
# ENABLE_SIGNUP_BONUS=true
# ENABLE_GAME_REWARDS=true
# ENABLE_FORCED_INTERSTITIALS=true

# =============================================================================
# DEPLOYMENT SPECIFIC (Vercel/Heroku/AWS)
# =============================================================================

# Vercel configuration (auto-detected)
# VERCEL=1

# Heroku configuration
# HEROKU=1

# =============================================================================
# NOTES
# =============================================================================
# 
# 1. NEVER commit actual secrets to version control
# 2. For development, use AdMob test IDs (provided above)
# 3. For production, use real AdMob IDs from your account
# 4. PayPal sandbox is for testing, switch to 'live' for production
# 5. Keep SUPABASE_SERVICE_KEY secret - it bypasses all security
# 6. USER_REVENUE_SHARE should not change frequently (affects user trust)
# 7. Adjust rate limits based on your infrastructure capacity
# 8. Exchange rate API has rate limits - consider caching
#
# See docs/ENVIRONMENT_SETUP.md for detailed documentation
# =============================================================================
